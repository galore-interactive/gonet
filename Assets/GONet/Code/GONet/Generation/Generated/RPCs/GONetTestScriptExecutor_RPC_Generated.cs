// GENERATED BY GONet - DO NOT EDIT
using System;
using System.Collections.Generic;
using System.Threading.Tasks;
using UnityEngine;
using GONet;
using GONet.Utils;
using MemoryPack;

namespace GONet.Sample
{
    internal static class GONetTestScriptExecutor_RpcIds
    {
        // Base class RPC IDs
        internal const uint GetFullRpcValidationReport_RpcId = 0xBCF6ED9A;

        // Derived class RPC IDs
        internal const uint RPC_CommandClientToSpawn_RpcId = 0x8F330A3D;
    }

    internal static class GONetTestScriptExecutor_RpcInitializer
    {
        [UnityEngine.RuntimeInitializeOnLoadMethod(UnityEngine.RuntimeInitializeLoadType.BeforeSceneLoad)]
        private static void Initialize()
        {
            GONetTestScriptExecutor_RpcDispatcher.EnsureInitialized();
        }
    }

    internal class GONetTestScriptExecutor_RpcDispatcher : IRpcDispatcher
    {
        private static bool isInitialized = false;

        private const string RPC_COMMANDCLIENTTOSPAWN = nameof(GONetTestScriptExecutor.RPC_CommandClientToSpawn);

        // Property accessor delegates for single targets
        private static readonly Dictionary<string, Func<object, ushort>> TargetPropertyAccessors = 
            new Dictionary<string, Func<object, ushort>>
        {
        };

        // Property accessor delegates for multiple targets (fills buffer, returns count)
        private static readonly Dictionary<string, Func<object, ushort[], int>> MultiTargetPropertyAccessors = 
            new Dictionary<string, Func<object, ushort[], int>>
        {
        };

        // Parameter count metadata for validators (sync and async)
        private static readonly Dictionary<string, int> ValidatorParameterCounts = 
            new Dictionary<string, int>
        {
        };

        public static readonly Dictionary<string, RpcMetadata> Metadata = new Dictionary<string, RpcMetadata>
        {
            // Base class RPCs
            { nameof(GONetParticipantCompanionBehaviour.GetFullRpcValidationReport), new RpcMetadata { 
                Type = RpcType.ServerRpc, 
                IsReliable = true, 
                IsMineRequired = true, 
                IsPersistent = false, 
                Target = RpcTarget.All, 
                TargetPropertyName = null,
                IsMultipleTargets = false,
                ValidationMethodName = null,
                ExpectsDeliveryReport = false
            }},
            // Derived class RPCs
            { nameof(GONet.Sample.GONetTestScriptExecutor.RPC_CommandClientToSpawn), new RpcMetadata { 
                Type = RpcType.ClientRpc, 
                IsReliable = true, 
                IsMineRequired = false, 
                IsPersistent = false, 
                Target = RpcTarget.All, 
                TargetPropertyName = null,
                IsMultipleTargets = false,
                ValidationMethodName = null,
                ExpectsDeliveryReport = false
            }},
        };

        public void Dispatch0(object instance, string methodName)
        {
        }

        public void Dispatch1<T1>(object instance, string methodName, T1 arg1)
        {
        }

        public void Dispatch2<T1, T2>(object instance, string methodName, T1 arg1, T2 arg2)
        {
            var typed = (GONet.Sample.GONetTestScriptExecutor)instance;
            switch (methodName)
            {
                case RPC_COMMANDCLIENTTOSPAWN:
                    typed.RPC_CommandClientToSpawn((System.Int32)(object)arg1, (System.UInt16)(object)arg2);
                    break;
            }
        }

        public void Dispatch3<T1, T2, T3>(object instance, string methodName, T1 arg1, T2 arg2, T3 arg3)
        {
        }

        public void Dispatch4<T1, T2, T3, T4>(object instance, string methodName, T1 arg1, T2 arg2, T3 arg3, T4 arg4)
        {
        }

        public void Dispatch5<T1, T2, T3, T4, T5>(object instance, string methodName, T1 arg1, T2 arg2, T3 arg3, T4 arg4, T5 arg5)
        {
        }

        public void Dispatch6<T1, T2, T3, T4, T5, T6>(object instance, string methodName, T1 arg1, T2 arg2, T3 arg3, T4 arg4, T5 arg5, T6 arg6)
        {
        }

        public void Dispatch7<T1, T2, T3, T4, T5, T6, T7>(object instance, string methodName, T1 arg1, T2 arg2, T3 arg3, T4 arg4, T5 arg5, T6 arg6, T7 arg7)
        {
        }

        public void Dispatch8<T1, T2, T3, T4, T5, T6, T7, T8>(object instance, string methodName, T1 arg1, T2 arg2, T3 arg3, T4 arg4, T5 arg5, T6 arg6, T7 arg7, T8 arg8)
        {
        }

        public async Task<TResult> DispatchAsync0<TResult>(object instance, string methodName)
        {
            return default(TResult);
        }

        public async Task<TResult> DispatchAsync1<TResult, T1>(object instance, string methodName, T1 arg1)
        {
            return default(TResult);
        }

        public async Task<TResult> DispatchAsync2<TResult, T1, T2>(object instance, string methodName, T1 arg1, T2 arg2)
        {
            return default(TResult);
        }

        public async Task<TResult> DispatchAsync3<TResult, T1, T2, T3>(object instance, string methodName, T1 arg1, T2 arg2, T3 arg3)
        {
            return default(TResult);
        }

        public async Task<TResult> DispatchAsync4<TResult, T1, T2, T3, T4>(object instance, string methodName, T1 arg1, T2 arg2, T3 arg3, T4 arg4)
        {
            return default(TResult);
        }

        public async Task<TResult> DispatchAsync5<TResult, T1, T2, T3, T4, T5>(object instance, string methodName, T1 arg1, T2 arg2, T3 arg3, T4 arg4, T5 arg5)
        {
            return default(TResult);
        }

        public async Task<TResult> DispatchAsync6<TResult, T1, T2, T3, T4, T5, T6>(object instance, string methodName, T1 arg1, T2 arg2, T3 arg3, T4 arg4, T5 arg5, T6 arg6)
        {
            return default(TResult);
        }

        public async Task<TResult> DispatchAsync7<TResult, T1, T2, T3, T4, T5, T6, T7>(object instance, string methodName, T1 arg1, T2 arg2, T3 arg3, T4 arg4, T5 arg5, T6 arg6, T7 arg7)
        {
            return default(TResult);
        }

        public async Task<TResult> DispatchAsync8<TResult, T1, T2, T3, T4, T5, T6, T7, T8>(object instance, string methodName, T1 arg1, T2 arg2, T3 arg3, T4 arg4, T5 arg5, T6 arg6, T7 arg7, T8 arg8)
        {
            return default(TResult);
        }


        static GONetTestScriptExecutor_RpcDispatcher()
        {
            if (!isInitialized)
            {
                isInitialized = true;
                GONetMain.EventBus.RegisterRpcIdMapping(0xBCF6ED9A, nameof(GONetParticipantCompanionBehaviour.GetFullRpcValidationReport), typeof(GONetTestScriptExecutor));
                GONetMain.EventBus.RegisterRpcIdMapping(0x8F330A3D, nameof(GONetTestScriptExecutor.RPC_CommandClientToSpawn), typeof(GONetTestScriptExecutor));
                GONetMain.EventBus.RegisterRpcDispatcher(typeof(GONetTestScriptExecutor), new GONetTestScriptExecutor_RpcDispatcher());
                GONetMain.EventBus.RegisterRpcMetadata(typeof(GONetTestScriptExecutor), Metadata);
                RegisterRpcHandlers();
                GONetLog.Debug("Initialized RPC dispatcher for GONetTestScriptExecutor");
            }
        }

        internal static void EnsureInitialized()
        {
            _ = Metadata;
        }

        private static void RegisterRpcHandlers()
        {
            var eventBus = GONetMain.EventBus;
            eventBus.RegisterRpcHandler(GONetTestScriptExecutor_RpcIds.RPC_CommandClientToSpawn_RpcId, async (envelope) =>
            {
                var rpcEvent = envelope.Event;
                var gnp = GONetMain.GetGONetParticipantById(rpcEvent.GONetId);
                var instance = gnp?.GetComponent<GONetTestScriptExecutor>();
                
                // CRITICAL: If participant exists but component doesn't, throw exception to trigger deferral
                // This handles runtime-added components that receive RPCs before they're initialized
                if (instance == null)
                {
                    if (gnp != null)
                    {
                        throw new GONetEventBus.RpcComponentNotReadyException(rpcEvent.GONetId, rpcEvent.RpcId);
                    }
                    return; // Participant doesn't exist - silently ignore
                }

                var args = SerializationUtils.DeserializeFromBytes<GONetTestScriptExecutor_RPC_CommandClientToSpawn_RpcData>(rpcEvent.Data);
                instance.RPC_CommandClientToSpawn(args.count, args.targetClientId);
            });
        }
    }

    [MemoryPackable]
    public partial struct GONetTestScriptExecutor_RPC_CommandClientToSpawn_RpcData
    {
        public System.Int32 count { get; set; }
        public System.UInt16 targetClientId { get; set; }
    }

}
